```uml
@startuml
ユーザー --> Webサーバー:アクセス
Webサーバー --> ユーザー:Webページを転送・表示
ユーザー --> Webサーバー:詳細画面へアクセス
Webページ --> ユーザー:詳細画面を転送・表示
ユーザー --> Webサーバー:該当商品をカートに追加
Webサーバー --> Webサーバー:カートの商品の追加処理
Webサーバー　--> ユーザー:カート内の一覧を表示
opt ユーザーアカウント未登録
ユーザー --> Webサーバー:ユーザー登録
Webサーバー --> DBサーバー:ユーザー登録
DBサーバー --> DBサーバー:登録処理
DBサーバー --> Webサーバー:登録結果

alt 登録成功
  Webサーバー --> ユーザー:登録メッセージを表示
else 登録失敗
  Webサーバー --> ユーザー:失敗メッセージを表示
end

end
@enduml
